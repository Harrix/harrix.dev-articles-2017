---
date: 2017-05-07
categories:
  - it
  - web
tags:
  - –ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä
  - PHP
  - –°–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª
  - JSON
related-id: client-server
demo: demo
author: Anton Sergienko
author-email: anton.b.sergienko@gmail.com
license: CC BY 4.0
license-url: https://github.com/Harrix/harrix.dev/blob/main/LICENSE.md
permalink-source: https://github.com/Harrix/harrix.dev-articles-2017/blob/main/add-2-num-php-post-json/add-2-num-php-post-json.md
permalink: https://harrix.dev/ru/articles/2017/add-2-num-php-post-json/
lang: ru
---

# –°–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª –Ω–∞ PHP —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ POST –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π JSON (—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

![Featured image](featured-image.svg)

–í –æ—Ç–ª–∏—á–∏–∏ –æ—Ç —Å—Ç–∞—Ç—å–∏ [–°–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª –≤ HTML —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ POST](https://github.com/Harrix/harrix.dev-articles-2017/blob/main/add-2-num-php-post/add-2-num-php-post.md) | [ü°•](https://harrix.dev/ru/articles/2017/add-2-num-php-post/) —Å–µ—Ä–≤–µ—Ä –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç JSON —Ñ–∞–π–ª.

<details>
<summary>üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</summary>

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è](#–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è)
- [–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏](#–ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏)
- [PHP —Å–∫—Ä–∏–ø—Ç](#php-—Å–∫—Ä–∏–ø—Ç)
- [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç—ã)

</details>

## –ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è

–ù–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–∞–∫ –∏–ª–∏ –∏–Ω–∞—á–µ —Å–µ—Ä–≤–µ—Ä, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è PHP —Å–∫—Ä–∏–ø—Ç—ã. –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, [—Ç—É—Ç](https://github.com/Harrix/harrix.dev-articles-2018/blob/main/apache-php-mysql/apache-php-mysql.md) | [ü°•](https://harrix.dev/ru/articles/2018/apache-php-mysql/) –æ–ø–∏—Å–∞–Ω–æ) —á–µ—Ä–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å–≤—è–∑–∫–∏ Apache + PHP + MySQL + phpMyAdmin, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É–∂–µ –≥–æ—Ç–æ–≤—ã–º–∏ —Å–±–æ—Ä–∫–∞–º–∏ (Denver, Open Server, WampServer –∏ –¥—Ä.). –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –Ω–∞ –∫–∞–∫–æ–º-–Ω–∏–±—É–¥—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –í –æ–±—â–µ–º, –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–Ω–æ–≥–æ.

–î–∞–ª–µ–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ç–∞–∫–æ–π —Å–µ—Ä–≤–µ—Ä, –≤—ã —É–º–µ–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ PHP —Å–∫—Ä–∏–ø—Ç—ã (–µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—Ç–µ, —Ç–æ –∏–ª–∏ [—Ç—É—Ç](https://github.com/Harrix/harrix.dev-articles-2018/blob/main/apache-php-mysql/apache-php-mysql.md) | [ü°•](https://harrix.dev/ru/articles/2018/apache-php-mysql/) –ø–æ—á–∏—Ç–∞–π—Ç–µ –∏–ª–∏ –≤ –ª—é–±–æ–º –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ –≤ —É—á–µ–±–Ω–∏–∫–∞—Ö –ø–æ PHP).

## –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏

–ù–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å—Ç—É–ø–∞–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å —Å –¥–≤—É–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ `a` –∏ `b`. –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Å—á–∏—Ç–∞—Ç—å –¥–≤–∞ —á–∏—Å–ª–∞, —Å–ª–æ–∂–∏—Ç—å –∏—Ö –∏ –≤–µ—Ä–Ω—É—Ç—å —ç—Ç—É —Å—É–º–º—É –∫–ª–∏–µ–Ω—Ç—É –≤ –≤–∏–¥–µ JSON —Ñ–∞–π–ª–∞. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `a` –∏ `b` –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ POST –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã, —Ç–æ –¥–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏—Å—å —Å–ª–æ–≤–æ `error`.

JSON —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ª–∞–≥–∞–µ–º—ã—Ö –∏ —Å—É–º–º–µ —á–∏—Å–µ–ª. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:

```json
{ "a": 2, "b": 3, "c": 5 }
```

## PHP —Å–∫—Ä–∏–ø—Ç

–û–±—â–∏–π –≤–∏–¥ PHP —Å–∫—Ä–∏–ø—Ç–∞ `index.php` –ø—Ä–∏–≤–µ–¥–µ–Ω –Ω–∏–∂–µ:

```php
<?php
if (isset($_POST['a'])) $string_a = htmlentities($_POST['a']);
if (isset($_POST['b'])) $string_b = htmlentities($_POST['b']);

$isEmpty = false;
if ((empty($string_a)) || (empty($string_b))) $isEmpty = true;

if (!$isEmpty) {
  $a = (int)$string_a;
  $b = (int)$string_b;

  $c = $a + $b;

  // –§–æ—Ä–º–∏—Ä—É–µ–º JSON –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
  $arr = array('a' => $a, 'b' => $b, 'c' => $c);
  echo json_encode($arr);
}
else {
  echo "error";
}
?>
```

–ü–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å–æ —Å—Ç–∞—Ç—å–µ–π [–°–ª–æ–∂–µ–Ω–∏–µ –¥–≤—É—Ö —á–∏—Å–µ–ª –≤ HTML —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ POST](https://github.com/Harrix/harrix.dev-articles-2017/blob/main/add-2-num-php-post/add-2-num-php-post.md) | [ü°•](https://harrix.dev/ru/articles/2017/add-2-num-php-post/) —Ç—É—Ç —Å—Ç—Ä–æ—á–∫–∞ `echo $c;` –ø–æ–º–µ–Ω—è–ª–∞—Å—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ—á–∫–∏:

```php
$arr = array('a' => $a, 'b' => $b, 'c' => $c);
echo json_encode($arr);
```

–¢–æ –µ—Å—Ç—å –≤ PHP –µ—Å—Ç—å –≥–æ—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è [json_encode](https://www.php.net/manual/ru/function.json-encode.php), –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –º–∞—Å—Å–∏–≤ –≤ JSON —Ñ–æ—Ä–º–∞—Ç.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ó–∞–∫–∏–¥—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –Ø –∑–∞–∫–∏–Ω—É–ª –Ω–∞ <https://github.com/Harrix/harrix.dev-articles-2017/tree/main/add-2-num-php-post-json/demo>

–ß–µ—Ä–µ–∑ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —Ä–∞–∑—É–º–µ–µ—Ç—Å—è, POST –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏–±–æ —Ñ–æ—Ä–º—ã –≤ HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö, –ª–∏–±–æ —á–µ—Ä–µ–∑ –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.

–ú–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –¥–∞–Ω–Ω—ã–π [HTML —Ñ–∞–π–ª](demo/check.html):

```html
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Å–ª–æ–∂–µ–Ω–∏—è –¥–≤—É—Ö —á–∏—Å–µ–ª</title>
  </head>

  <body>
    <form action="http://demo.harrix.org/demo0013/" method="post">
      <input name="a" type="text" value="2" /><br />
      <input name="b" type="text" value="3" /><br />
      <input type="submit" value="–°–ª–æ–∂–∏—Ç—å 2 –¥–≤–∞ —á–∏—Å–ª–∞" />
    </form>
  </body>
</html>
```

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —á–∏—Å–µ–ª `2` –∏ `3` –ø–æ–ª—É—á–∏–º –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤–æ—Ç –≤ –≤–∏–¥–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ JSON —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º—ã —É–∂–µ –º–æ–∂–µ–º –ø–∞—Ä—Å–∏—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ:

```json
{ "a": 2, "b": 3, "c": 5 }
```
