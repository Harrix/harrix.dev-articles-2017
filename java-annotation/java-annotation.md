---
date: 2017-05-08
categories:
  - it
  - programming
tags:
  - Java
author: Anton Sergienko
author-email: anton.b.sergienko@gmail.com
license: CC BY 4.0
license-url: https://github.com/Harrix/harrix.dev/blob/main/LICENSE.md
permalink-source: https://github.com/Harrix/harrix.dev-articles-2017/blob/main/java-annotation/java-annotation.md
permalink: https://harrix.dev/ru/articles/2017/java-annotation/
lang: ru
---

# –ö—Ä–∞—Ç–∫–æ –æ–± –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è—Ö –≤ Java

![Featured image](featured-image.svg)

–ß—Ç–æ —Ç–∞–∫–æ–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –≤ Java? –î–∞–≤–∞–π—Ç–µ –≥–ª—è–Ω–µ–º.

<details>
<summary>üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</summary>

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ö–∞–∫ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤—ã–≥–ª—è–¥—è—Ç](#–∫–∞–∫-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏-–≤—ã–≥–ª—è–¥—è—Ç)
- [–°—Å—ã–ª–∫–∏](#—Å—Å—ã–ª–∫–∏)
- [–î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏](#–¥–ª—è-—á–µ–≥–æ-–Ω—É–∂–Ω—ã-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏)
- [–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏](#—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏)
- [–ù–æ–≤—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏](#–Ω–æ–≤—ã–µ-–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏)

</details>

## –ö–∞–∫ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤—ã–≥–ª—è–¥—è—Ç

–í–æ—Ç —Ç–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–≥–ª—è–¥–∏—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è:

```java
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
public @interface NeedMethod {
    int type() default 1;
}
```

**–í–Ω–∏–º–∞–Ω–∏–µ!** –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å–æ –∑–Ω–∞–∫–∞ `@`. –¢–∞–∫ —á—Ç–æ –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤—ã—à–µ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –µ—â–µ –¥–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ (—Ç–∞–º `1+2=3` –∑–Ω–∞–∫–∞ `@`).

## –°—Å—ã–ª–∫–∏

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Ç—É—Ç:

[https://ru.wikipedia.org/wiki/–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è\_(Java)](<https://ru.wikipedia.org/wiki/–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è_(Java)>)

<http://www.seostella.com/ru/article/2012/05/19/annotacii-v-java-vvedenie.html>

<http://www.quizful.net/post/annotations-in-java>

<https://mkyong.com/java/java-custom-annotations-example/>

<https://dzone.com/articles/how-annotations-work-java>

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤ –∫–æ–¥–µ —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å —Ç–µ –∏–ª–∏ –∏–Ω—ã–µ —Å–º—ã—Å–ª–æ–≤—ã–µ –º–µ—Ç–∫–∏ –≤ –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–µ —á—Ç–æ-—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –ª–∏–±–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, –ª–∏–±–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä—É, –ª–∏–±–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –∫–∞–∫ –±—ã –≥–æ–≤–æ—Ä–∏—Ç: ¬´–ï—Å–ª–∏ –µ—Å—Ç—å —Ç–∞–∫–∞—è –º–µ—Ç–∫–∞, —Ç–æ —Ç—É—Ç –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ—Ç —Ç–∞–∫¬ª.

–¢–∞–∫–∂–µ —á–∞—Å—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ [Retrofit](https://square.github.io/retrofit/)). –ò —Ä–∞—Å—Å—Ç–∞–≤–ª—è—è –ø–æ —à–∞–±–ª–æ–Ω–∞–º –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ —Å–≤–æ–∏—Ö –∫–ª–∞—Å—Å–∞—Ö, –º—ã –≥–æ–≤–æ—Ä–∏–º –±–∏–±–ª–∏–æ—Ç–µ–∫–µ, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏ –∫–ª–∞—Å—Å—ã –Ω—É–∂–Ω–æ –±—Ä–∞—Ç—å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

–í –æ–±—â–µ–º, —Å –ø–æ–º–æ—â—å—é –Ω–∏—Ö –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞, –µ–≥–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –¥—Ä.

## –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –±—ã–≤–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏, –∏–ª–∏ –≤—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–∏ –∏—Ö —Å–æ–∑–¥–∞–≤–∞—Ç—å.

–ù–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–Ω—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –≤—ã –≤–∏–¥–µ–ª–∏ –æ—á–µ–Ω—å —á–∞—Å—Ç–æ. –≠—Ç–æ `@Override`.

–î–æ–ø—É—Å—Ç–∏–º —É –≤–∞—Å –µ—Å—Ç—å –∫–æ–¥:

```java
class Parent {
    void method() {
        System.out.println("Base");
    }
}

class Child extends Parent {
    void method() {
        System.out.println("Child");
    }
}

Child a = new Child();
a.method();
```

–≠—Ç–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–ø–æ–∫–æ–π–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è. –ò –º–æ–∂–Ω–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å. –ù–æ –≤–¥—Ä—É–≥ –≤—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–∞ `method()` –≤ `Child` –æ—à–∏–±–µ—Ç–µ—Å—å? –ù–∞–∑–æ–≤–µ—Ç–µ –µ–≥–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `methoad()`. –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–ø–æ–∫–æ–π–Ω–æ –≤—Å—ë —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –∏ –Ω–µ –ø–æ–¥–∞–≤–∏—Ç—Å—è. –•–æ—Ç—è –º—ã —Ö–æ—Ç–µ–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥.

–ê —á—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `@Override`. –ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è:

```java
class Parent {
    void method() {
        System.out.println("Base");
    }
}

class Child extends Parent {
    @Override
    void method() {
        System.out.println("Child");
    }
}

Child a = new Child();
a.method();
```

–í—Å—ë –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ. –ù–æ —Å–µ–π—á–∞—Å –∫–æ–¥ —Å `methoad()` –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É. –¢–æ–≥–¥–∞ –∫–∞–∫ –±–µ–∑ `@Override` –≤—Å—ë –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª–æ—Å—å –±—ã:

![–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞ –Ω–µ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞](img/error_01.png)

_–†–∏—Å—É–Ω–æ–∫ 1 ‚Äî –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞ –Ω–µ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞_

![–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞ –Ω–µ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞](img/error_02.png)

_–†–∏—Å—É–Ω–æ–∫ 2 ‚Äî –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞ –Ω–µ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞_

–¢–æ –µ—Å—Ç—å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π –º—ã –æ–±–µ–∑–æ–ø–∞—Å–∏–ª–∏ —Å–≤–æ–π –∫–æ–¥ –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –æ—à–∏–±–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞.

## –ù–æ–≤—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –ø–∏—Å–∞—Ç—å —Å–∞–º–æ–º—É.

–°–æ–∑–¥–∞–¥–∏–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é `Animal` –∫ –∫–ª–∞—Å—Å—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `massa` —Å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `3`:

```java
@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
public @interface Animal {
    int massa() default 3;
}
```

–¢—É—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–≤–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ Java.

`@Target(ElementType.TYPE)` ‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç, –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –∫–ª–∞—Å—Å—É.

`@Retention(RetentionPolicy.RUNTIME)` ‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤—É–µ—Ç –∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ massa –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –ø–æ–ª—è–º –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏–º–µ—Ç—å —ç—Ç—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é.

–°–æ–∑–¥–∞–¥–∏–º –∫–ª–∞—Å—Å `Cat`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–ø–∏—Å–∞–Ω —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–µ –∫ –æ–±—ä–µ–∫—Ç—É –∫–ª–∞—Å—Å–∞, –∞ –∫ —Å–∞–º–æ–º—É –∫–ª–∞—Å—Å—É. –ò —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–¥–∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä:

```java
@Animal()
class Cat {
}

Cat a = new Cat();
```

–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –≤—ã—Ç–∞—â–∏—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é –∏–∑ –∫–ª–∞—Å—Å–∞ –∏ –≤—ã–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è `massa` —É –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:

```java
Class cl = a.getClass();
Animal an = (Animal)cl.getAnnotation(Animal.class);

System.out.println(an.massa());
```

–ü–æ–ª–Ω—ã–π –∫–æ–¥ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```java
package com.example;

import java.lang.annotation.*;

public class Main {

    @Target(ElementType.TYPE)
    @Retention(RetentionPolicy.RUNTIME)
    public @interface Animal {
        int massa() default 3;
    }

    public static void main(String[] args) {

        @Animal()
        class Cat {
        }

        Cat a = new Cat();

        Class cl = a.getClass();
        Animal an = (Animal)cl.getAnnotation(Animal.class);

        System.out.println(an.massa());
    }
}
```

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏—Å—å `3`.

–ú–æ–∂–µ–º —É –∫–ª–∞—Å—Å–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ –ø–æ–º–µ–Ω—è—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, —É —Å–æ–±–∞–∫–∏ –≤ –∫–æ–¥–µ –Ω–∏–∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç `4`:

```java
package com.example;

import java.lang.annotation.*;

public class Main {

    @Target(ElementType.TYPE)
    @Retention(RetentionPolicy.RUNTIME)
    public @interface Animal {
        int massa() default 3;
    }

    public static void main(String[] args) {

        @Animal()
        class Cat {
        }

        Cat a = new Cat();

        Class cl = a.getClass();
        Animal an = (Animal)cl.getAnnotation(Animal.class);

        System.out.println(an.massa());

        //-------------------

        @Animal(massa = 5)
        class Dog {
        }

        Dog b = new Dog();

        Class clb = b.getClass();
        Animal anb = (Animal)cl.getAnnotation(Animal.class);

        System.out.println(anb.massa());
    }
}
```

–í –æ–±—â–µ–º, –ø—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑–∞–ª. –ù–æ –≤–æ—Ç —Ç–æ–ª—å–∫–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –≤–æ–ø—Ä–æ—Å: –∞ –∑–∞—á–µ–º –æ–Ω–æ –Ω—É–∂–Ω–æ?

–í —Å—Ç–∞—Ç—å–µ [–ö–∞–∫ –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤ Java](https://github.com/Harrix/harrix.dev-articles-2017/blob/main/method-call-java-annotation/method-call-java-annotation.md) | [‚ÜóÔ∏è](https://harrix.dev/ru/articles/2017/method-call-java-annotation/) –ø–æ–∫–∞–∑–∞–Ω –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –±–æ–ª–µ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω–æ–≥–æ –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ.
